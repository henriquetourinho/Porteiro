<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Porteiro — Nginx IP Access Control</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link
        href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,300;0,400;0,500;1,300;1,400&family=IBM+Plex+Sans:wght@300;400;500&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --bg: #ffffff;
            --fg: #000000;
            --mid: #555555;
            --lt: #aaaaaa;
            --border: #cccccc;
            --rule: #e0e0e0;
            --code-bg: #f4f4f4;
            --accent: #d40000;
        }

        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            font-size: 14px;
            scroll-behavior: smooth;
        }

        body {
            background: var(--bg);
            color: var(--fg);
            font-family: 'IBM Plex Sans', sans-serif;
            font-weight: 400;
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }

        /* ── Top bar ── */
        #topbar {
            background: var(--fg);
            border-bottom: 3px solid var(--fg);
        }

        #topbar .inner {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 32px;
            display: flex;
            align-items: stretch;
        }

        .top-brand {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 13px;
            font-weight: 500;
            letter-spacing: 0.06em;
            padding: 14px 24px 14px 0;
            border-right: 1px solid #222;
            margin-right: 0;
            display: flex;
            align-items: center;
            gap: 10px;
            color: #fff;
        }

        .top-brand .ver {
            font-size: 10px;
            font-weight: 300;
            color: #555;
            letter-spacing: 0.08em;
        }

        .top-nav {
            display: flex;
            align-items: center;
            flex: 1;
        }

        .top-nav a {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 11px;
            color: #666;
            text-decoration: none;
            padding: 0 18px;
            height: 100%;
            display: flex;
            align-items: center;
            letter-spacing: 0.06em;
            transition: color 0.15s;
            border-right: 1px solid #1a1a1a;
        }

        .top-nav a:first-child {
            border-left: 1px solid #1a1a1a;
        }

        .top-nav a:hover {
            color: #fff;
        }

        .top-nav-right {
            margin-left: auto;
            display: flex;
            align-items: center;
        }

        .top-nav-right a {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 11px;
            color: #666;
            text-decoration: none;
            padding: 0 18px;
            height: 48px;
            display: flex;
            align-items: center;
            gap: 6px;
            letter-spacing: 0.04em;
            border-left: 1px solid #1a1a1a;
            transition: color 0.15s;
        }

        .top-nav-right a:hover {
            color: #fff;
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: #666;
            font-family: 'IBM Plex Mono', monospace;
            font-size: 12px;
            cursor: pointer;
            padding: 0 0 0 18px;
            letter-spacing: 0.06em;
            border-left: 1px solid #1a1a1a;
            height: 48px;
            margin-left: auto;
            align-items: center;
        }

        #mobileNav {
            display: none;
            background: #0d0d0d;
            flex-direction: column;
        }

        #mobileNav a {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 12px;
            color: #666;
            text-decoration: none;
            padding: 14px 32px;
            border-bottom: 1px solid #1a1a1a;
            letter-spacing: 0.06em;
        }

        #mobileNav.open {
            display: flex;
        }

        /* ── Hero ── */
        #hero {
            border-bottom: 1px solid var(--fg);
            padding: 48px 0 40px;
        }

        #hero .inner,
        .section-inner {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 32px;
        }

        #hero .inner {
            padding: 0 32px;
        }

        .hero-meta {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 11px;
            color: var(--lt);
            letter-spacing: 0.10em;
            text-transform: uppercase;
            margin-bottom: 20px;
        }

        .hero-meta span {
            color: var(--accent);
        }

        h1.site-title {
            font-family: 'IBM Plex Mono', monospace;
            font-size: clamp(28px, 5vw, 48px);
            font-weight: 500;
            letter-spacing: -0.01em;
            line-height: 1.1;
        }

        h1.site-title em {
            font-style: normal;
            color: var(--mid);
            font-weight: 300;
        }

        .hero-sub {
            font-size: 14px;
            color: var(--mid);
            max-width: 520px;
            line-height: 1.7;
            margin-top: 16px;
            font-weight: 300;
        }

        .hero-sub strong {
            font-weight: 500;
            color: var(--fg);
        }

        .hero-actions {
            display: flex;
            gap: 10px;
            margin-top: 28px;
            flex-wrap: wrap;
        }

        .btn {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 12px;
            font-weight: 400;
            letter-spacing: 0.04em;
            text-decoration: none;
            padding: 9px 20px;
            border: 1px solid var(--fg);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: background 0.15s, color 0.15s;
            color: var(--fg);
        }

        .btn:hover {
            background: var(--fg);
            color: var(--bg);
        }

        .btn.primary {
            background: var(--fg);
            color: var(--bg);
        }

        .btn.primary:hover {
            background: var(--mid);
            border-color: var(--mid);
        }

        .hero-stats {
            display: flex;
            gap: 0;
            margin-top: 36px;
            border-top: 1px solid var(--rule);
            padding-top: 24px;
        }

        .stat {
            flex: 1;
            padding-right: 24px;
            border-right: 1px solid var(--rule);
            margin-right: 24px;
        }

        .stat:last-child {
            border-right: none;
            margin-right: 0;
        }

        .stat-n {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 26px;
            font-weight: 500;
            line-height: 1;
        }

        .stat-l {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 10px;
            color: var(--lt);
            letter-spacing: 0.10em;
            text-transform: uppercase;
            margin-top: 5px;
        }

        /* ── Terminal ── */
        .terminal {
            background: var(--fg);
            color: #ccc;
            font-family: 'IBM Plex Mono', monospace;
            font-size: 12px;
            line-height: 1.9;
            padding: 20px 24px;
            border: 1px solid var(--fg);
        }

        .t-prompt {
            color: #555;
        }

        .t-cmd {
            color: #e0e0e0;
        }

        .t-comment {
            color: #444;
            font-style: italic;
        }

        .t-ok {
            color: #aaa;
        }

        .t-err {
            color: #999;
        }

        .t-var {
            color: #ccc;
        }

        .t-dim {
            color: #555;
        }

        .tcursor {
            animation: blink 1.1s step-end infinite;
        }

        @keyframes blink {

            0%,
            100% {
                opacity: 1
            }

            50% {
                opacity: 0
            }
        }

        /* ── Sections ── */
        section {
            border-bottom: 1px solid var(--fg);
        }

        .section-inner {
            padding-top: 40px;
            padding-bottom: 40px;
        }

        .section-header {
            display: flex;
            align-items: baseline;
            gap: 16px;
            margin-bottom: 28px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--rule);
        }

        .section-label {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 11px;
            color: var(--lt);
            letter-spacing: 0.12em;
            text-transform: uppercase;
            white-space: nowrap;
        }

        h2 {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 17px;
            font-weight: 500;
            letter-spacing: -0.01em;
        }

        h3 {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 13px;
            font-weight: 500;
            letter-spacing: 0.02em;
            margin-bottom: 6px;
        }

        p {
            font-size: 13px;
            color: var(--mid);
            line-height: 1.7;
            font-weight: 300;
        }

        code {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 11px;
            background: var(--code-bg);
            border: 1px solid var(--border);
            padding: 1px 6px;
        }

        /* ── Feature table ── */
        .feat-table {
            width: 100%;
            border-collapse: collapse;
        }

        .feat-table tr {
            border-bottom: 1px solid var(--rule);
        }

        .feat-table tr:last-child {
            border-bottom: none;
        }

        .feat-table td {
            padding: 14px 0;
            vertical-align: top;
            font-size: 13px;
        }

        .feat-table td:first-child {
            width: 210px;
            font-family: 'IBM Plex Mono', monospace;
            font-size: 11px;
            color: var(--fg);
            padding-right: 24px;
            white-space: nowrap;
        }

        .cmd-tag {
            display: inline-block;
            background: var(--code-bg);
            border: 1px solid var(--border);
            padding: 2px 8px;
            font-family: 'IBM Plex Mono', monospace;
            font-size: 11px;
        }

        .feat-table td:last-child {
            color: var(--mid);
            font-weight: 300;
        }

        /* ── Steps grid ── */
        .steps {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
        }

        .step {
            padding: 24px 24px 24px 0;
            border-right: 1px solid var(--rule);
            border-bottom: 1px solid var(--rule);
        }

        .step:nth-child(even) {
            padding: 24px 0 24px 24px;
            border-right: none;
        }

        .step:nth-last-child(-n+2) {
            border-bottom: none;
        }

        .step-n {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 10px;
            color: var(--lt);
            letter-spacing: 0.12em;
            text-transform: uppercase;
            margin-bottom: 8px;
        }

        /* ── Comparison ── */
        .cmp-table {
            width: 100%;
            border-collapse: collapse;
            font-family: 'IBM Plex Mono', monospace;
            font-size: 12px;
        }

        .cmp-table thead tr {
            border-bottom: 2px solid var(--fg);
        }

        .cmp-table th {
            padding: 10px 16px 10px 0;
            font-weight: 500;
            font-size: 12px;
            letter-spacing: 0.04em;
            text-align: left;
        }

        .cmp-table th:not(:first-child) {
            text-align: center;
        }

        .cmp-table tbody tr {
            border-bottom: 1px solid var(--rule);
        }

        .cmp-table tbody tr:last-child {
            border-bottom: none;
        }

        .cmp-table td {
            padding: 11px 16px 11px 0;
            color: var(--mid);
            font-size: 12px;
        }

        .cmp-table td:not(:first-child) {
            text-align: center;
        }

        .cmp-table .yes {
            color: var(--fg);
            font-weight: 500;
        }

        .cmp-table .no {
            color: var(--lt);
        }

        /* ── Install ── */
        .install-block {
            margin-bottom: 28px;
        }

        .install-block:last-child {
            margin-bottom: 0;
        }

        .install-n {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 10px;
            color: var(--lt);
            letter-spacing: 0.12em;
            text-transform: uppercase;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .install-n::after {
            content: '';
            flex: 1;
            height: 1px;
            background: var(--rule);
        }

        /* ── FAQ ── */
        .faq-item {
            border-bottom: 1px solid var(--rule);
        }

        .faq-btn {
            width: 100%;
            background: none;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 0;
            font-family: 'IBM Plex Mono', monospace;
            font-size: 13px;
            font-weight: 400;
            color: var(--fg);
            text-align: left;
            gap: 16px;
        }

        .faq-btn:hover {
            color: var(--mid);
        }

        .faq-icon {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 18px;
            font-weight: 300;
            flex-shrink: 0;
            color: var(--lt);
            transition: transform 0.2s;
            line-height: 1;
        }

        .faq-item.open .faq-icon {
            transform: rotate(45deg);
            color: var(--fg);
        }

        .faq-body {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.35s ease;
        }

        .faq-item.open .faq-body {
            max-height: 200px;
            padding-bottom: 16px;
        }

        /* ── Cmds bar ── */
        .cmds-bar {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 20px;
        }

        .cmd-pill {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 11px;
            border: 1px solid var(--border);
            padding: 6px 14px;
            color: var(--mid);
            background: var(--code-bg);
            letter-spacing: 0.02em;
        }

        /* ── Ticker ── */
        .ticker-wrap {
            overflow: hidden;
            background: var(--code-bg);
            border-bottom: 1px solid var(--border);
            white-space: nowrap;
        }

        .ticker-inner {
            display: inline-flex;
            animation: ticker 32s linear infinite;
        }

        .ticker-item {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 11px;
            letter-spacing: 0.08em;
            color: var(--lt);
            padding: 10px 20px;
        }

        .ticker-sep {
            color: var(--border);
            padding: 10px 4px;
            font-family: monospace;
        }

        @keyframes ticker {
            from {
                transform: translateX(0)
            }

            to {
                transform: translateX(-50%)
            }
        }

        /* ── Quote ── */
        #quote {
            background: var(--fg);
            border-bottom: none;
        }

        blockquote {
            font-family: 'IBM Plex Mono', monospace;
            font-size: clamp(16px, 3vw, 24px);
            font-weight: 300;
            font-style: italic;
            color: #444;
            line-height: 1.4;
        }

        blockquote em {
            color: #fff;
            font-style: normal;
        }

        .quote-attr {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 10px;
            color: #2a2a2a;
            letter-spacing: 0.14em;
            text-transform: uppercase;
            margin-top: 20px;
        }

        /* ── Footer ── */
        footer {
            background: var(--fg);
        }

        .footer-inner {
            max-width: 900px;
            margin: 0 auto;
            padding: 24px 32px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 16px;
            flex-wrap: wrap;
            border-top: 1px solid #1a1a1a;
        }

        .footer-left {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 11px;
            color: #333;
            letter-spacing: 0.04em;
        }

        .footer-links {
            display: flex;
            gap: 20px;
        }

        .footer-links a {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 11px;
            color: #444;
            text-decoration: none;
            letter-spacing: 0.06em;
            transition: color 0.15s;
        }

        .footer-links a:hover {
            color: #fff;
        }

        @media (max-width: 680px) {

            .top-nav,
            .top-nav-right {
                display: none;
            }

            .mobile-menu-btn {
                display: flex;
            }

            .steps {
                grid-template-columns: 1fr;
            }

            .step,
            .step:nth-child(even) {
                padding: 20px 0;
                border-right: none;
            }

            .step:last-child {
                border-bottom: none;
            }

            .hero-stats {
                flex-direction: column;
                gap: 16px;
            }

            .stat {
                border-right: none;
                border-bottom: 1px solid var(--rule);
                padding-bottom: 16px;
            }

            .stat:last-child {
                border-bottom: none;
            }

            .footer-inner {
                flex-direction: column;
                gap: 12px;
            }

            .feat-table td:first-child {
                width: 140px;
            }
        }
    </style>
</head>

<body>

    <!-- TOP BAR -->
    <div id="topbar">
        <div class="inner">
            <div class="top-brand">
                PORTEIRO
                <span class="ver">v2.0</span>
            </div>
            <nav class="top-nav">
                <a href="#funcionalidades">Funcionalidades</a>
                <a href="#como-funciona">Como funciona</a>
                <a href="#instalacao">Instalação</a>
                <a href="#faq">FAQ</a>
            </nav>
            <div class="top-nav-right">
                <a href="https://github.com/henriquetourinho/porteiro" target="_blank">↗ github</a>
            </div>
            <button class="mobile-menu-btn" id="menuBtn">≡ menu</button>
        </div>
        <nav id="mobileNav">
            <a href="#funcionalidades">Funcionalidades</a>
            <a href="#como-funciona">Como funciona</a>
            <a href="#instalacao">Instalação</a>
            <a href="#faq">FAQ</a>
            <a href="https://github.com/henriquetourinho/porteiro" target="_blank">↗ GitHub</a>
        </nav>
    </div>

    <!-- HERO -->
    <section id="hero">
        <div class="inner">
            <div class="hero-meta">
                Shell Script · Nginx · Open Source · <span>MIT</span>
            </div>
            <h1 class="site-title">Porteiro<br><em>— Nginx IP Access Control</em></h1>
            <p class="hero-sub">
                Mantém <strong>/phpmyadmin/</strong> e rotas sensíveis bloqueadas para a internet inteira. Libera acesso
                apenas para o IP detectado via SSH, com Auto-Off automático. Zero dependências externas.
            </p>
            <div class="hero-actions">
                <a href="#instalacao" class="btn primary">↓ Instalar</a>
                <a href="https://github.com/henriquetourinho/porteiro" target="_blank" class="btn">↗ Ver no GitHub</a>
            </div>
            <div class="hero-stats">
                <div class="stat">
                    <div class="stat-n">0</div>
                    <div class="stat-l">dependências</div>
                </div>
                <div class="stat">
                    <div class="stat-n">&lt;5min</div>
                    <div class="stat-l">instalação</div>
                </div>
                <div class="stat">
                    <div class="stat-n">MIT</div>
                    <div class="stat-l">licença</div>
                </div>
                <div class="stat">
                    <div class="stat-n">5</div>
                    <div class="stat-l">comandos</div>
                </div>
            </div>
        </div>
    </section>

    <!-- TICKER -->
    <div class="ticker-wrap">
        <div class="ticker-inner">
            <span class="ticker-item">porteiro-on</span><span class="ticker-sep">·</span>
            <span class="ticker-item">porteiro-off</span><span class="ticker-sep">·</span>
            <span class="ticker-item">porteiro-status</span><span class="ticker-sep">·</span>
            <span class="ticker-item">porteiro-list</span><span class="ticker-sep">·</span>
            <span class="ticker-item">porteiro-revoke</span><span class="ticker-sep">·</span>
            <span class="ticker-item">multi-rota</span><span class="ticker-sep">·</span>
            <span class="ticker-item">auto-off por ip</span><span class="ticker-sep">·</span>
            <span class="ticker-item">nginx validation</span><span class="ticker-sep">·</span>
            <span class="ticker-item">audit log</span><span class="ticker-sep">·</span>
            <span class="ticker-item">telegram optional</span><span class="ticker-sep">·</span>
            <span class="ticker-item">ubuntu · debian</span><span class="ticker-sep">·</span>
            <span class="ticker-item">porteiro-on</span><span class="ticker-sep">·</span>
            <span class="ticker-item">porteiro-off</span><span class="ticker-sep">·</span>
            <span class="ticker-item">porteiro-status</span><span class="ticker-sep">·</span>
            <span class="ticker-item">porteiro-list</span><span class="ticker-sep">·</span>
            <span class="ticker-item">porteiro-revoke</span><span class="ticker-sep">·</span>
            <span class="ticker-item">multi-rota</span><span class="ticker-sep">·</span>
            <span class="ticker-item">auto-off por ip</span><span class="ticker-sep">·</span>
            <span class="ticker-item">nginx validation</span><span class="ticker-sep">·</span>
            <span class="ticker-item">audit log</span><span class="ticker-sep">·</span>
            <span class="ticker-item">telegram optional</span><span class="ticker-sep">·</span>
            <span class="ticker-item">ubuntu · debian</span><span class="ticker-sep">·</span>
        </div>
    </div>

    <!-- DEMO -->
    <section>
        <div class="section-inner">
            <div class="section-header">
                <span class="section-label">Demo</span>
                <h2>Uso básico</h2>
            </div>
            <div class="terminal">
                <div><span class="t-comment"># instalar</span></div>
                <div><span class="t-prompt">$</span> <span class="t-cmd">git clone
                        https://github.com/henriquetourinho/porteiro && cd porteiro</span></div>
                <div><span class="t-prompt">$</span> <span class="t-cmd">sudo bash install.sh</span></div>
                <div>&nbsp;</div>
                <div><span class="t-comment"># abrir acesso pelo IP da sessão SSH atual</span></div>
                <div><span class="t-prompt">$</span> <span class="t-cmd">sudo porteiro-on 2h</span></div>
                <div>&nbsp;&nbsp;<span class="t-ok">✓ Acesso liberado.</span></div>
                <div>&nbsp;&nbsp;<span class="t-dim">IP : </span><span class="t-var">189.x.x.x</span></div>
                <div>&nbsp;&nbsp;<span class="t-dim">Rotas : </span><span class="t-var">/phpmyadmin/ /adminer/</span>
                </div>
                <div>&nbsp;&nbsp;<span class="t-dim">Off em: </span><span class="t-var">2h</span></div>
                <div>&nbsp;</div>
                <div><span class="t-comment"># listar IPs autorizados</span></div>
                <div><span class="t-prompt">$</span> <span class="t-cmd">sudo porteiro-list</span></div>
                <div>&nbsp;&nbsp;<span class="t-var">189.x.x.x</span> <span class="t-dim">— aberto 14:32:01</span></div>
                <div>&nbsp;</div>
                <div><span class="t-comment"># revogar IP específico sem afetar outros</span></div>
                <div><span class="t-prompt">$</span> <span class="t-cmd">sudo porteiro-revoke 189.x.x.x</span></div>
                <div>&nbsp;</div>
                <div><span class="t-comment"># fechar tudo</span></div>
                <div><span class="t-prompt">$</span> <span class="t-cmd">sudo porteiro-off</span></div>
                <div>&nbsp;&nbsp;<span class="t-err">— Bloqueado.</span></div>
                <div><span class="t-prompt">$</span> <span class="tcursor">█</span></div>
            </div>
        </div>
    </section>

    <!-- FEATURES -->
    <section id="funcionalidades">
        <div class="section-inner">
            <div class="section-header">
                <span class="section-label">Funcionalidades</span>
                <h2>Referência de comandos e recursos</h2>
            </div>
            <table class="feat-table">
                <tr>
                    <td><span class="cmd-tag">porteiro-on [tempo]</span></td>
                    <td>Detecta o IP via <code>$SSH_CLIENT</code> (fallback: <code>who am i</code>). Injeta no
                        <code>porteiro_ips.conf</code>, valida com <code>nginx -t</code> e recarrega. Aceita
                        <code>30</code>, <code>30m</code>, <code>2h</code>.</td>
                </tr>
                <tr>
                    <td><span class="cmd-tag">porteiro-off</span></td>
                    <td>Limpa o arquivo de IPs e recarrega o Nginx. Fecha o acesso para todos os IPs imediatamente.</td>
                </tr>
                <tr>
                    <td><span class="cmd-tag">porteiro-status</span></td>
                    <td>Exibe estado atual, IPs ativos, rotas protegidas e últimas entradas do log. Notifica via
                        Telegram se configurado.</td>
                </tr>
                <tr>
                    <td><span class="cmd-tag">porteiro-list</span></td>
                    <td>Lista todos os IPs autorizados no momento com data e hora de abertura. Lê direto do
                        <code>porteiro_ips.conf</code> e do log — sem banco de dados.</td>
                </tr>
                <tr>
                    <td><span class="cmd-tag">porteiro-revoke &lt;IP&gt;</span></td>
                    <td>Remove o acesso de um IP específico sem afetar os demais. Valida formato IPv4, escapa input
                        antes do <code>sed</code>, registra <code>REVOGADO</code> no log.</td>
                </tr>
                <tr>
                    <td>Auto-Off por IP</td>
                    <td>Timer individual por admin via <code>at</code>, com tag <code>#porteiro-IP</code>. O Auto-Off de
                        um admin não cancela o dos outros nem afeta jobs externos do servidor.</td>
                </tr>
                <tr>
                    <td>Multi-rota</td>
                    <td>Proteja <code>/phpmyadmin/</code>, <code>/adminer/</code>, <code>/wp-admin/</code> ou qualquer
                        rota. Um arquivo <code>porteiro_ips.conf</code> compartilhado — um comando libera tudo.</td>
                </tr>
                <tr>
                    <td>Nginx validado</td>
                    <td>Roda <code>nginx -t</code> antes de qualquer <code>reload</code>. Se a config estiver quebrada,
                        aborta com mensagem clara — nunca derruba o servidor.</td>
                </tr>
                <tr>
                    <td>Log de auditoria</td>
                    <td>Cada evento registrado em <code>/var/log/porteiro.log</code>. Logrotate configurado
                        automaticamente — rotação mensal, retenção de 6 meses.</td>
                </tr>
                <tr>
                    <td>Telegram (opcional)</td>
                    <td>Notificação a cada <code>on</code>, <code>off</code> e <code>status</code>. Configure
                        <code>TELEGRAM_TOKEN</code> e <code>TELEGRAM_CHAT_ID</code> no <code>porteiro.conf</code>. Deixe
                        em branco para desativar.</td>
                </tr>
            </table>

            <div class="cmds-bar">
                <span class="cmd-pill">porteiro-on [tempo]</span>
                <span class="cmd-pill">porteiro-off</span>
                <span class="cmd-pill">porteiro-status</span>
                <span class="cmd-pill">porteiro-list</span>
                <span class="cmd-pill">porteiro-revoke &lt;IP&gt;</span>
            </div>
        </div>
    </section>

    <!-- HOW IT WORKS -->
    <section id="como-funciona">
        <div class="section-inner">
            <div class="section-header">
                <span class="section-label">Como funciona</span>
                <h2>Fluxo de execução</h2>
            </div>
            <div class="steps">
                <div class="step">
                    <div class="step-n">01 — SSH</div>
                    <h3>Conectar ao servidor</h3>
                    <p>A variável <code>$SSH_CLIENT</code> expõe o IP da sessão automaticamente. Fallback para
                        <code>who am i</code> — funciona em tmux, screen e sudo su.</p>
                </div>
                <div class="step">
                    <div class="step-n">02 — ON</div>
                    <h3>sudo porteiro-on</h3>
                    <p>IP injetado em <code>/etc/nginx/porteiro_ips.conf</code>. Nginx validado com
                        <code>nginx -t</code> e recarregado. Multi-IP: cada admin tem sua própria entrada.</p>
                </div>
                <div class="step">
                    <div class="step-n">03 — ACCESS</div>
                    <h3>Rotas liberadas</h3>
                    <p>Todos os blocos <code>location</code> com <code>include porteiro_ips.conf</code> ficam acessíveis
                        para o IP autorizado. O resto do mundo recebe 403.</p>
                </div>
                <div class="step">
                    <div class="step-n">04 — OFF</div>
                    <h3>Auto-Off automático</h3>
                    <p>O <code>at</code> agenda <code>porteiro-revoke &lt;IP&gt;</code> com tag
                        <code>#porteiro-IP</code>. Timer individual por admin. Esqueceu? O Porteiro não esquece.</p>
                </div>
            </div>

            <div style="margin-top:36px;">
                <table class="cmp-table">
                    <thead>
                        <tr>
                            <th>Recurso</th>
                            <th>Sem Porteiro</th>
                            <th>Com Porteiro</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>/phpmyadmin/ exposto</td>
                            <td class="no">✗ Sempre</td>
                            <td class="yes">✓ 403</td>
                        </tr>
                        <tr>
                            <td>Força bruta</td>
                            <td class="no">✗ Possível</td>
                            <td class="yes">✓ Bloqueado</td>
                        </tr>
                        <tr>
                            <td>Esqueceu a porta</td>
                            <td class="no">✗ Problema</td>
                            <td class="yes">✓ Auto-Off</td>
                        </tr>
                        <tr>
                            <td>Multi-rota</td>
                            <td class="no">✗ Manual</td>
                            <td class="yes">✓ Wizard</td>
                        </tr>
                        <tr>
                            <td>Revogação por IP</td>
                            <td class="no">✗ Não</td>
                            <td class="yes">✓ porteiro-revoke</td>
                        </tr>
                        <tr>
                            <td>Log de auditoria</td>
                            <td class="no">✗ Não</td>
                            <td class="yes">✓ Sim</td>
                        </tr>
                        <tr>
                            <td>Dependências</td>
                            <td class="no">—</td>
                            <td class="yes">✓ Zero</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- INSTALL -->
    <section id="instalacao">
        <div class="section-inner">
            <div class="section-header">
                <span class="section-label">Instalação</span>
                <h2>3 passos. Ubuntu / Debian.</h2>
            </div>

            <div class="install-block">
                <div class="install-n">01 — Clonar</div>
                <div class="terminal">
                    <div><span class="t-prompt">$</span> <span class="t-cmd">git clone
                            https://github.com/henriquetourinho/porteiro.git</span></div>
                    <div><span class="t-prompt">$</span> <span class="t-cmd">cd porteiro</span></div>
                </div>
            </div>

            <div class="install-block">
                <div class="install-n">02 — Instalar</div>
                <div class="terminal">
                    <div><span class="t-prompt">$</span> <span class="t-cmd">sudo bash install.sh</span></div>
                    <div>&nbsp;&nbsp;<span class="t-comment"># wizard interativo: escolha de rotas e Telegram
                            (opcional)</span></div>
                    <div>&nbsp;&nbsp;<span class="t-ok">✓ Instalado em /opt/porteiro/</span></div>
                </div>
            </div>

            <div class="install-block">
                <div class="install-n">03 — Configurar Nginx</div>
                <div class="terminal">
                    <div><span class="t-comment"># cole o bloco gerado pelo instalador no seu site Nginx:</span></div>
                    <div>&nbsp;</div>
                    <div><span class="t-var">location ^~ /phpmyadmin/ {</span></div>
                    <div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="t-var">include /etc/nginx/porteiro_ips.conf;</span></div>
                    <div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="t-var">deny all;</span></div>
                    <div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="t-dim">location ~ \.php$ { ... }</span></div>
                    <div><span class="t-var">}</span></div>
                    <div>&nbsp;</div>
                    <div><span class="t-prompt">$</span> <span class="t-cmd">sudo nginx -t && sudo systemctl reload
                            nginx</span></div>
                    <div>&nbsp;&nbsp;<span class="t-ok">✓ Porteiro de plantão.</span></div>
                </div>
            </div>

            <div
                style="margin-top:28px;padding:20px 24px;border:1px solid var(--fg);display:flex;align-items:center;justify-content:space-between;gap:16px;flex-wrap:wrap;">
                <div>
                    <div style="font-family:'IBM Plex Mono',monospace;font-size:13px;font-weight:500;">Pronto para
                        instalar?</div>
                    <div style="font-family:'IBM Plex Mono',monospace;font-size:11px;color:var(--lt);margin-top:4px;">
                        Open Source · MIT · Ubuntu / Debian · Rocky / Alma / CentOS</div>
                </div>
                <a href="https://github.com/henriquetourinho/porteiro" target="_blank" class="btn">↗ Ver no GitHub</a>
            </div>
        </div>
    </section>

    <!-- QUOTE -->
    <section id="quote">
        <div class="section-inner">
            <blockquote>"Código aberto.<br><em>Porta fechada.</em>"</blockquote>
            <div class="quote-attr">— Carlos Henrique Tourinho Santana · Salvador, Bahia</div>
        </div>
    </section>

    <!-- FAQ -->
    <section id="faq" style="border-bottom:none;">
        <div class="section-inner">
            <div class="section-header">
                <span class="section-label">FAQ</span>
                <h2>Perguntas frequentes</h2>
            </div>

            <div class="faq-item">
                <button class="faq-btn">O Porteiro substitui o firewall? <span class="faq-icon">+</span></button>
                <div class="faq-body">
                    <p>Não — ele age na camada HTTP do Nginx; o firewall age na camada de rede. Os dois se complementam.
                        Use ambos.</p>
                </div>
            </div>
            <div class="faq-item">
                <button class="faq-btn">Funciona com IP dinâmico? <span class="faq-icon">+</span></button>
                <div class="faq-body">
                    <p>Sim. O <code>porteiro-on</code> sempre lê o IP atual da sessão SSH ativa. Cada execução adiciona
                        o novo IP sem remover os anteriores.</p>
                </div>
            </div>
            <div class="faq-item">
                <button class="faq-btn">O Auto-Off de um admin fecha o acesso dos outros? <span
                        class="faq-icon">+</span></button>
                <div class="faq-body">
                    <p>Não. Cada <code>porteiro-on</code> agenda um <code>porteiro-revoke &lt;IP&gt;</code> com tag
                        <code>#porteiro-IP</code> específica. Quando o timer expira, só aquele IP é revogado.</p>
                </div>
            </div>
            <div class="faq-item">
                <button class="faq-btn">O Telegram é obrigatório? <span class="faq-icon">+</span></button>
                <div class="faq-body">
                    <p>Não. Deixe <code>TELEGRAM_TOKEN</code> e <code>TELEGRAM_CHAT_ID</code> em branco no
                        <code>porteiro.conf</code>. As notificações são ignoradas silenciosamente.</p>
                </div>
            </div>
            <div class="faq-item">
                <button class="faq-btn">Como funciona o multi-rota? <span class="faq-icon">+</span></button>
                <div class="faq-body">
                    <p>O arquivo <code>/etc/nginx/porteiro_ips.conf</code> é compartilhado por todos os blocos
                        <code>location</code>. Um <code>porteiro-on</code> libera tudo; um <code>porteiro-off</code>
                        bloqueia tudo.</p>
                </div>
            </div>
            <div class="faq-item">
                <button class="faq-btn">E se eu esquecer a porta aberta? <span class="faq-icon">+</span></button>
                <div class="faq-body">
                    <p>O Auto-Off fecha após o tempo configurado (padrão: 1 hora), mesmo que você feche o terminal.</p>
                </div>
            </div>
            <div class="faq-item">
                <button class="faq-btn">Posso usar sem SSH remoto? <span class="faq-icon">+</span></button>
                <div class="faq-body">
                    <p>Sim: <code>sudo SSH_CLIENT='SEU_IP 0 0' porteiro-on</code>. A variável <code>$SSH_CLIENT</code>
                        normalmente só existe em sessões SSH remotas.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer>
        <div class="footer-inner">
            <div class="footer-left">
                © 2026 Carlos Henrique Tourinho Santana · MIT License · Não afiliado ao Nginx Inc.
            </div>
            <div class="footer-links">
                <a href="https://github.com/henriquetourinho" target="_blank">GitHub</a>
                <a href="https://instagram.com/henrique.ntxa" target="_blank">Instagram</a>
                <a href="mailto:henriquetourinho@riseup.net">Email</a>
            </div>
        </div>
    </footer>

    <script>
        document.getElementById('menuBtn').addEventListener('click', () => {
            document.getElementById('mobileNav').classList.toggle('open');
        });
        document.querySelectorAll('#mobileNav a').forEach(a => a.addEventListener('click', () => {
            document.getElementById('mobileNav').classList.remove('open');
        }));
        document.querySelectorAll('.faq-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const item = btn.closest('.faq-item');
                const isOpen = item.classList.contains('open');
                document.querySelectorAll('.faq-item').forEach(i => i.classList.remove('open'));
                if (!isOpen) item.classList.add('open');
            });
        });
        document.querySelectorAll('a[href^="#"]').forEach(a => {
            a.addEventListener('click', e => {
                e.preventDefault();
                const t = document.querySelector(a.getAttribute('href'));
                if (t) t.scrollIntoView({ behavior: 'smooth' });
            });
        });
    </script>
</body>

</html>